function _pd(b){b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation()}function _ae(b,c,e,d){b.addEventListener(c,e,void 0===d?!1:d)}
var Arrange=function(b){function c(a){a=a.dataTransfer.types;for(var b=0;b<a.length;++b)if("meeid"===a[b])return!0;return!1}function e(a){this.style.opacity="0.4";r=this;a.dataTransfer.effectAllowed="copyMove";a.dataTransfer.setData("meeid",this.getAttribute("data-id"));a.dataTransfer.setData("imgsrc",this.getElementsByTagName("IMG")[0].src)}function d(a){if(c(a))return _pd(a),a.dataTransfer.dropEffect="move",!1}function l(a){if(c(a))return _pd(a),this.classList.add("over"),!1}function m(a){this.classList.remove("over")}
function p(a){_pd(a);if(r!=this){a=document.getElementById(f);var b=a.removeChild(r);a.insertBefore(b,this)}return!1}function q(a){this.style.opacity="1.0";[].forEach.call(h,function(a){a.classList.remove("over")});itmend.classList.remove("over");g=!0}function t(a){g=!0;50>a.clientY&&(g=!1,n(-1));a.clientY>b(window).height()-50&&(g=!1,n(1))}function u(a){1==a.targetTouches.length&&(a=a.targetTouches[0],this.style.left=a.pageX+"px",this.style.top=a.pageY+"px")}var r=null,g=!0,f="",k="",h,n=function(a){var c=
b(window).scrollTop();b(window).scrollTop(c+a);g||setTimeout(function(){n(a)},60)};return{init:function(a,b){f=a;k=b;h=document.querySelectorAll("#"+a+" ."+b);[].forEach.call(h,function(a){_ae(a,"drag",t);_ae(a,"dragstart",e);_ae(a,"dragenter",l);_ae(a,"dragover",d);_ae(a,"dragleave",m);_ae(a,"drop",p);_ae(a,"dragend",q);_ae(a,"touchmove",u)})},iord:function(){h=document.querySelectorAll("#"+f+" ."+k);var a=[];[].forEach.call(h,function(b){(b=b.getAttribute("data-id"))&&a.push(b)});return a.join("|")}}}(jQuery),
AArrange=function(b){function c(a,c,d){a={format:"raw",task:"manage.adjustAlbPaid",aid:a,paid:c};a[Joomla.getOptions("csrf.token","")]=1;b.post(myBaseURL,a,function(a){a&&console.log(a);d(a)})}function e(a){a.target.style.opacity="0.4";g=this;a.dataTransfer.effectAllowed="copyMove";a.dataTransfer.setData("meeid",this.getAttribute("data-id"))}function d(a){a:{var b=a.dataTransfer.types;for(var c=0;c<b.length;++c)if("meeid"===b[c]){b=!0;break a}b=!1}if(b)return _pd(a),a.dataTransfer.dropEffect="move",
!1}function l(a){_pd(a);this.classList.add("over");return!1}function m(a){_pd(a);this.classList.remove("over")}function p(a){_pd(a);g!=this&&(sa=g.getAttribute("data-aid"),da=a.target.getAttribute("data-aid"),c(sa,da,function(b){b?alert(Joomla.JText._("COM_MEEDYA_MOVE_FAIL")):a.target.append(g)}));return!1}function q(a){this.style.opacity="1.0";[].forEach.call(h,function(a){a.classList.remove("over")});k=!0}function t(a){k=!0;50>a.clientY&&(k=!1,n(-1));a.clientY>b(window).height()-50&&(k=!1,n(1))}
function u(a){1==a.targetTouches.length&&(a=a.targetTouches[0],this.style.left=a.pageX+"px",this.style.top=a.pageY+"px")}function r(a){_pd(a);f&&f.classList.remove("slctd");this==f?f=null:(f=this,f.classList.add("slctd"))}var g=null,f=null,k=!0,h,n=function(a){var c=b(window).scrollTop();b(window).scrollTop(c+a);k||setTimeout(function(){n(a)},500)};return{init:function(a,b){h=document.querySelectorAll("#"+a+" ."+b);[].forEach.call(h,function(a){_ae(a,"drag",t);_ae(a,"dragstart",e,!0);_ae(a,"dragenter",
l);_ae(a,"dragover",d);_ae(a,"dragleave",m);_ae(a,"drop",p);_ae(a,"dragend",q);_ae(a,"touchmove",u);_ae(a,"click",r)})},selalb:function(){return f?f.getAttribute("data-aid"):0}}}(jQuery);function setDlgParAlb(){document.getElementById("h5u_palbum").value=AArrange.selalb()}
function allow_group_select_checkboxes(b){var c=null,e=document.querySelectorAll("#"+b+' input[type="checkbox"]');for(b=0;b<e.length;b++)e[b].setAttribute("data-index",b);for(b=0;b<e.length;b++)e[b].addEventListener("click",function(b){if(c&&b.shiftKey){var d=parseInt(c.getAttribute("data-index")),m=parseInt(this.getAttribute("data-index"));b=this.checked;var p=d,q=m;d>m&&(p=m,q=d);for(d=0;d<e.length;d++)p<=d&&d<=q&&(e[d].checked=b)}c=this})}
function handleAlbthmDragOver(b){if(!(0>b.dataTransfer.types.indexOf("imgsrc")))return _pd(b),b.dataTransfer.dropEffect="copy",!1}function handleAlbthmDrop(b){_pd(b);var c=b.dataTransfer.getData("imgsrc");c&&(this.getElementsByTagName("IMG")[0].src=c,document.getElementById("albthmid").value=b.dataTransfer.getData("meeid"));this.style.opacity="1.0"}
function removeAlbThm(){document.getElementById("albthmimg").src="components/com_meedya/static/img/img.png";document.getElementById("albthmid").value=0}function hasSelections(b,c){c=void 0===c?!1:c;if(document.querySelectorAll(b).length)return!0;c&&bootbox.alert(Joomla.JText._("COM_MEEDYA_SELECT_SOME"));return!1}
function deleteSelected(b){b.preventDefault();hasSelections("[name='slctimg[]']:checked",!0)&&bootbox.confirm({message:Joomla.JText._("COM_MEEDYA_PERM_DELETE"),buttons:{confirm:{label:Joomla.JText._("JACTION_DELETE"),className:"btn-danger"},cancel:{label:Joomla.JText._("JCANCEL")}},callback:function(b){b&&(document.adminForm.task.value="manage.deleteItems",document.adminForm.submit())}})}
function removeSelected(b){b.preventDefault();hasSelections("[name='slctimg[]']:checked",!0)&&bootbox.confirm({message:Joomla.JText._("COM_MEEDYA_REMOVE"),buttons:{confirm:{label:Joomla.JText._("COM_MEEDYA_VRB_REMOVE"),className:"btn-primary"},cancel:{label:Joomla.JText._("JCANCEL")}},callback:function(b){if(b){b=document.querySelectorAll("[name='slctimg[]']:checked");for(var c=b[0].parentNode.parentNode,d=0;d<b.length;d++)c.removeChild(b[d].parentNode)}}})}
function selAllImg(b,c){b.preventDefault();var e=c?"checked":"",d=document.adminForm.elements["slctimg[]"];d.length||(d=[d]);for(var l=0;l<d.length;l++)d[l].checked=e}function editSelected(b){b.preventDefault();hasSelections("input[name='slctimg[]']:checked",!0)&&(document.adminForm.task.value="manage.imgsEdit",document.adminForm.submit())}function addSelected(b){b.preventDefault();hasSelections("input[name='slctimg[]']:checked",!0)&&jQuery("#add2albdlg").modal("show")}var blbI=null;
function blbEscape(b){27==b.keyCode&&(b.preventDefault(),blbI.close(function(){document.removeEventListener("keydown",blbEscape)}))}function lboxPimg(b){blbI=basicLightbox.create('<img src="'+(blb_path+b)+'">');blbI.show();document.addEventListener("keydown",blbEscape)}function saveAlbum(){document.albForm.thmord.value=Arrange.iord();document.albForm.submit()};